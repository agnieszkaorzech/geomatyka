<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8"/>
    <title></title>

    <link rel="stylesheet" href="css/kendo.common-material.min.css"/>
    <link rel="stylesheet" href="css/kendo.material.min.css"/>
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css">


    <script src="js/lib/jquery.js"></script>
    <script src="js/lib/kendo.js"></script>
    <script src="js/lib/kendo.culture.pl-PL.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.js"></script>


</head>
<body>
<div>
    <!-- Container glówne okno-->
    <div id="oknoGlowne"
         data-role="window"
         data-title="Lista użytkowników"
         data-bind="visible: isVisible"
         data-width="800"
         data-height="400"
         style="padding:0; border: none;"
         data-actions="[
                'Minimize',
                 'Maximize',
                 'Close',
                 ]"
    >

        <div data-role="splitter"
             data-orientation="vertical"
             data-panes="[{
             collapsible: false,
             resizable: false,
             size: '30px'
             },{
             collapsible: false,
             resizable: true
             }]"
             style="height: 100%; border: none;">
            <!-- Główny div-->
            <div style="padding-left:0px;">
                <!-- Menu główne-->
                <div class="menuGlowne"
                     data-role="menu"
                     data-resizable="true"
                     data-bind="events: { select: onMenuSelect }"
                     style="width: 100%; border: none;background-color: lightgray; ">
                    <li><input class="rola_search"
                               style="width:150px;"
                               data-spinners="false"
                               placeholder="Rola użytkownika"></li>
                    <li><input class="login_id_search"
                               style="width:150px;"
                               data-spinners="false"
                               placeholder="Loginid"></li>
                    <li data-menu-id="dodajUzytkownika"
                        data-content="Dodaj użytkownika"
                        data-role="tooltip"
                        data-auto-hide="true"
                        data-position="top">
                        <span class="fa fa-plus"></span></li>
                    <li data-menu-id="edycjauzytkownika"
                        data-content="Edytuj dane użytkownika"
                        data-role="tooltip"
                        data-auto-hide="true"
                        data-position="top">
                        <span class="fa fa-pencil-square-o"></span></li>
                    <li data-menu-id="dodajUprawnienia"
                        data-content="Dodaj uprawnienia"
                        data-role="tooltip"
                        data-auto-hide="true"
                        data-position="top">
                        <span class="fa fa-pencil-square-o"></span></li>
                </div>
                <div>
                    <div id="grid"
                         data-role="grid"
                         data-sortable="true"
                         data-pageable='{
                             "previousNext": true,
                             "numeric": true,
                             "pageSizes": true,
                             "info": true
                             }'

                         data-resizable="true"
                         data-columns="[
                             { 'field': 'login', 'width': 50, 'title' : 'Login'},
                             { 'field': 'naz_druk','width': 50, 'title' : 'Nazwa drukowana', },
                             { 'field': 'naz_wys','width': 50, 'title' : 'Nazwa wyświetlana' },
                             { 'field': 'zabl','width': 20, 'title' : 'Zablokowany','filterable':false },
                             { 'field': 'arch','width': 20, 'title' : 'Zarchiwizowany','filterable':false },
                             { 'field': 'ost_log','width': 50, 'title' : 'Ostatnie logowanie','format': '{0:MM/dd/yyyy}' ,'filterable':false},
                             { 'field': 'il_log','width': 20, 'title' : 'Ilość logowań' ,'filterable':false},
                             { 'field': 'gen_zap','width': 20, 'title' : 'Wygenerowane zapytania' ,'filterable':false},
                             { 'field': 'il_zap', 'width': 20,'title' : 'Ilość zapytań','filterable':false },

                             ]"

                         data-editable="inline"

                         data-bind="source: products"

                         data-filterable="[
                         { field: 'login', operator: 'startswith' },
                         { field: 'naz_druk', operator: 'startswith' },
                         { field: 'naz_wys', operator: 'startswith' },
                         { field: 'zabl', operator: 'startswith' },
                         { field: 'arch', operator: 'startswith' },
                         { field: 'ost_log', operator: 'startswith' },
                         { field: 'il_log', operator: 'startswith' },
                         { field: 'gen_zap', operator: 'startswith' },
                         { field: 'il_zap',operator: 'startswith'  },]"

                         style="height: 100%; border: none;">
                    </div>
                </div>
            </div>
        </div>

        <!--drugie okno do dodania użytkownika-->
        <div id="window2"
             data-bind="visible: notVisible"
             data-role="window"
             data-title="Dodaj użytkownika"
             data-width="200"
             data-height="430"
             data-resizable="false"
             data-actions="[
                'Minimize',
                'Close',
                 ]"
             style="padding:0; border: none;background-color: lightgray;">
            <div style="margin-left: 20px;">
                <form>
                    <header>&nbsp;&nbsp;Rejestracja</header>
                    <input type="text" name="loginU" placeholder="Login"
                           data-bind="value: loginU"/><br/>
                    <input type="text" name="haslo" placeholder="Hasło"
                           data-bind="value: haslo"/><br/>
                    <input type="text" name="repetH" placeholder="Powtórz hasło"
                           data-bind="value: repetH"/><br/>

                    <header>&nbsp;&nbsp;Dane osobowe</header>
                    <input type="text" name="imie" placeholder="Imię"
                           data-bind="value: imie"/><br/>
                    <input type="text" name="nazwisko" placeholder="Nazwisko"
                           data-bind="value: nazwisko"/><br/>
                    <input type="text" name="secondI" placeholder="Drugie imię"
                           data-bind="value: secondI"/><br/>

                    <input type="text" name="imieo" placeholder="Imię ojca"
                           data-bind="value: imieo"/><br/>
                    <input type="text" name="imiem" placeholder="Imię matki"
                           data-bind="value: imiem"/><br/>
                    <input type="text" name="pesel" placeholder="PESEL"
                           data-bind="value: pesel"/><br/>

                    <input type="text" name="ulica" placeholder="Ulica"
                           data-bind="value: ulica"/><br/>
                    <input type="text" name="nrdomu" placeholder="Numer domu"
                           data-bind="value: nrdomu"/><br/>
                    <input type="text" name="miejsc" placeholder="Miejscowość"
                           data-bind="value: miejsc"/><br/>

                    <input type="text" name="kodp" placeholder="Kod pocztowy"
                           data-bind="value: kodp"/><br/>
                    <input type="text" name="poczta" placeholder="Poczta"
                           data-bind="value: poczta"/><br/>
                    <input type="text" name="opis" placeholder="Opis"
                           data-bind="value: opis"/><br/>
                    <input type="text" name="email" placeholder="Email"
                           data-bind="value: email"/><br/>

                    <button type="button" data-bind="click: addPerson">Dodaj</button>
                </form>
            </div>
        </div>

        <div id="window3"
             data-bind="visible: notVisible"
             data-role="window"
             data-title="Dodaj uprawnienia "
             data-width="200"
             data-height="430"
             data-resizable="false"
             data-actions="[
                'Minimize',
                'Close',
                 ]"
             style="padding:0; border: none;background-color: lightgray;">

            <div>

            </div>


        </div>

        <script>
            $(document).ready(function () {

                var viewModel;
                viewModel = kendo.observable({
                    isVisible: true,
                    onSave: function (e) {
                        kendoConsole.log("event :: save(" + kendo.stringify(e.values, null, 4) + ")");
                    },
                    onMenuSelect: function (e) {
                        var text = $(e.item).data('menuId');
                        switch (text) {
                            case"dodajUzytkownika":
                                $('#window2').data('kendoWindow').open();
                                break;
                            case"dodajUprawnienia":
                                $('#window3').data('kendoWindow').open();
                                break;
                            case "rola_search":
                                break;
                            case "login_id_search":
                                break;
                            case "edycjauzytkownika":
                                break;

                        }
                    },

                    products: new kendo.data.DataSource({
                        schema: {
                            model: {
                                id: "grid",
                                fields: {
                                    login: {type: "string"},
                                    naz_druk: {type: "string"},
                                    naz_wys: {type: "string"},
                                    zabl: {type: "string"},
                                    arch: {type: "string"},
                                    ost_log: {type: "date", editable: false},
                                    il_log: {type: "number", editable: false},
                                    gen_zap: {type: "number", editable: false},
                                    il_zap: {type: "number", editable: false}
                                }
                            }
                        },
                        batch: true,
                        data: [{
                            "login": "AGCDE",
                            "naz_druk": "Jan Kowalski",
                            "naz_wys": "Jan Kowalski",
                            "zabl": "TAK",
                            "arch": "NIE",
                            "ost_log": "12/12/2016",
                            "il_log": "5",
                            "gen_zap": "5",
                            "il_zap": "5"
                        },
                            {
                                "login": "bbbGCDE",
                                "naz_druk": "Jan Nowak",
                                "naz_wys": "Jan Nowak",
                                "zabl": "NIE",
                                "arch": "NIE",
                                "ost_log": "12/06/2016",
                                "il_log": "2",
                                "gen_zap": "2",
                                "il_zap": "2"
                            }]
                    })
                });

                kendo.bind($("#oknoGlowne"), viewModel);
            });

        </script>


    </div>


</body>
</html>